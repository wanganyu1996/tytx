(function(D,B){var C=0;function A(N,E){var J=this;this.$sidebar=D(N);this.$sidebar.attr("data-sidebar","true");if(!this.$sidebar.attr("id")){this.$sidebar.attr("id","id-sidebar-"+(++C))}var F=ace.helper.getAttrSettings(N,D.fn.ace_sidebar.defaults,"sidebar-");this.settings=D.extend({},D.fn.ace_sidebar.defaults,E,F);this.minimized=false;this.collapsible=false;this.horizontal=false;this.mobile_view=false;this.vars=function(){return{"minimized":this.minimized,"collapsible":this.collapsible,"horizontal":this.horizontal,"mobile_view":this.mobile_view}};this.get=function(R){if(this.hasOwnProperty(R)){return this[R]}};this.set=function(R,S){if(this.hasOwnProperty(R)){this[R]=S}};this.ref=function(){return this};var L=function(R,S){var V=D(this).find(ace.vars[".icon"]),T,W;if(V.length>0){T=V.attr("data-icon1");W=V.attr("data-icon2");if(typeof R!=="undefined"){if(R){V.removeClass(T).addClass(W)}else{V.removeClass(W).addClass(T)}}else{V.toggleClass(T).toggleClass(W)}try{if(S!==false){ace.settings.saveState(V.get(0))}}catch(U){}}};var H=function(){var R=J.$sidebar.find(".sidebar-collapse");if(R.length==0){R=D('.sidebar-collapse[data-target="#'+(J.$sidebar.attr("id")||"")+'"]')}if(R.length!=0){R=R[0]}else{R=null}return R};this.toggleMenu=function(T,R){if(this.collapsible){return}this.minimized=!this.minimized;var R=!(T===false||R===false);if(this.minimized){this.$sidebar.addClass("menu-min")}else{this.$sidebar.removeClass("menu-min")}try{if(R){ace.settings.saveState(N,"class","menu-min",this.minimized)}}catch(S){}if(!T){T=H()}if(T){L.call(T,this.minimized,R)}if(ace.vars["old_ie"]){ace.helper.redraw(N)}D(document).trigger("settings.ace",["sidebar_collapsed",this.minimized,N,R])};this.collapse=function(S,R){if(this.collapsible){return}this.minimized=false;this.toggleMenu(S,R)};this.expand=function(S,R){if(this.collapsible){return}this.minimized=true;this.toggleMenu(S,R)};this.showResponsive=function(){this.$sidebar.removeClass(Q).removeClass(G)};this.toggleResponsive=function(W,T){if(!this.mobile_view||this.mobile_style!=3){return}if(this.$sidebar.hasClass("menu-min")){this.$sidebar.removeClass("menu-min");var R=H();if(R){L.call(R)}}var T=typeof T!=="undefined"?T:this.$sidebar.hasClass(Q);if(T){this.$sidebar.addClass(G).removeClass(Q)}else{this.$sidebar.removeClass(G).addClass(Q)}this.minimized=!T;if(!W){W=this.$sidebar.find(".sidebar-expand");if(W.length==0){W=D('.sidebar-expand[data-target="#'+(this.$sidebar.attr("id")||"")+'"]')}if(W.length!=0){W=W[0]}else{W=null}}if(W){var U=D(W).find(ace.vars[".icon"]),S,V;if(U.length>0){S=U.attr("data-icon1");V=U.attr("data-icon2");if(!T){U.removeClass(V).addClass(S)}else{U.removeClass(S).addClass(V)}}}D(document).triggerHandler("settings.ace",["sidebar_collapsed",this.minimized])};this.is_collapsible=function(){var R;return(this.$sidebar.hasClass("navbar-collapse"))&&((R=D('.navbar-toggle[data-target="#'+(this.$sidebar.attr("id")||"")+'"]').get(0))!=null)&&R.scrollHeight>0};this.is_mobile_view=function(){var R;return((R=D('.menu-toggler[data-target="#'+(this.$sidebar.attr("id")||"")+'"]').get(0))!=null)&&R.scrollHeight>0};this.$sidebar.on(ace.click_event+".ace.submenu",".nav-list",function(T){var Z=this;var W=D(T.target).closest("a");if(!W||W.length==0){return}var S=J.minimized&&!J.collapsible;if(!W.hasClass("dropdown-toggle")){if(ace.click_event=="tap"&&S&&W.get(0).parentNode.parentNode==Z){var X=W.find(".menu-text").get(0);if(X!=null&&T.target!=X&&!D.contains(X,T.target)){T.preventDefault();return false}}if(ace.vars["ios_safari"]&&W.attr("data-link")!=="false"){document.location=W.attr("href");T.preventDefault();return false}return}T.preventDefault();var a=W.siblings(".submenu").get(0);if(!a){return false}var V=D(a);var U=0;var Y=a.parentNode.parentNode;if((S&&Y==Z)||((V.parent().hasClass("hover")&&V.css("position")=="absolute")&&!J.collapsible)){return false}var R=(a.scrollHeight==0);if(R&&J.settings.hide_open_subs){D(Y).find("> .open > .submenu").each(function(){if(this!=a&&!D(this.parentNode).hasClass("active")){U-=this.scrollHeight;J.hide(this,J.settings.duration,false)}})}if(R){J.show(a,J.settings.duration);if(U!=0){U+=a.scrollHeight}}else{J.hide(a,J.settings.duration);U-=a.scrollHeight}if(U!=0){if(J.$sidebar.attr("data-sidebar-scroll")=="true"&&!J.minimized){J.$sidebar.ace_sidebar_scroll("prehide",U)}}return false});var M=false;this.show=function(V,T,R){R=(R!==false);if(R&&M){return false}var X=D(V);var W;X.trigger(W=D.Event("show.ace.submenu"));if(W.isDefaultPrevented()){return false}if(R){M=true}T=typeof T!=="undefined"?T:this.settings.duration;X.css({height:0,overflow:"hidden",display:"block"}).removeClass("nav-hide").addClass("nav-show").parent().addClass("open");V.scrollTop=0;var S=function(Z,Y){Z&&Z.stopPropagation();X.css({"transition-property":"","transition-duration":"",overflow:"",height:""});if(Y!==false){X.trigger(D.Event("shown.ace.submenu"))}if(R){M=false}};var U=V.scrollHeight;if(T==0||U==0||!D.support.transition.end){S()}else{X.css({"height":U,"transition-property":"height","transition-duration":(T/1000)+"s"}).one(D.support.transition.end,S);if(ace.vars["android"]){setTimeout(function(){S(null,false);ace.helper.redraw(V)},T+20)}}return true};this.hide=function(U,T,R){R=(R!==false);if(R&&M){return false}var W=D(U);var V;W.trigger(V=D.Event("hide.ace.submenu"));if(V.isDefaultPrevented()){return false}if(R){M=true}T=typeof T!=="undefined"?T:this.settings.duration;var X=U.scrollHeight;W.css({height:X,overflow:"hidden",display:"block"}).parent().removeClass("open");U.offsetHeight;var S=function(Z,Y){Z&&Z.stopPropagation();W.css({display:"none",overflow:"",height:"","transition-property":"","transition-duration":""}).removeClass("nav-show").addClass("nav-hide");if(Y!==false){W.trigger(D.Event("hidden.ace.submenu"))}if(R){M=false}};if(T==0||X==0||!D.support.transition.end){S()}else{W.css({"height":0,"transition-property":"height","transition-duration":(T/1000)+"s"}).one(D.support.transition.end,S);if(ace.vars["android"]){setTimeout(function(){S(null,false);ace.helper.redraw(U)},T+20)}}return true};this.toggle=function(S,R){R=R||J.settings.duration;if(S.scrollHeight==0){if(this.show(S,R)){return 1}}else{if(this.hide(S,R)){return -1}}return 0};var K="menu-min";var Q="responsive-min";var G="responsive-max";var I="h-sidebar";var P=function(){this.mobile_style=1;if(this.$sidebar.hasClass("responsive")&&!D('.menu-toggler[data-target="#'+this.$sidebar.attr("id")+'"]').hasClass("navbar-toggle")){this.mobile_style=2}else{if(this.$sidebar.hasClass(Q)){this.mobile_style=3}else{if(this.$sidebar.hasClass("navbar-collapse")){this.mobile_style=4}}}};P.call(J);function O(){this.mobile_view=this.mobile_style<4&&this.is_mobile_view();this.collapsible=!this.mobile_view&&this.is_collapsible();this.minimized=(!this.collapsible&&this.$sidebar.hasClass(K))||(this.mobile_style==3&&this.mobile_view&&this.$sidebar.hasClass(Q));this.horizontal=!(this.mobile_view||this.collapsible)&&this.$sidebar.hasClass(I)}D(window).on("resize.sidebar.vars",function(){O.call(J)}).triggerHandler("resize.sidebar.vars");this.mobileToggle=function(R){var R=typeof R==="undefined"?B:R;if(this.mobile_view){if(this.mobile_style==1||this.mobile_style==2){this.toggleMobile(null,R)}else{if(this.mobile_style==3){this.toggleResponsive(null,R)}}}else{if(this.collapsible){this.toggleCollapsible(null,R)}}};this.mobileShow=function(){this.mobileToggle(true)};this.mobileHide=function(){this.mobileToggle(false)};this.toggleMobile=function(S,R){if(!(this.mobile_style==1||this.mobile_style==2)){return}var R=typeof R!=="undefined"?R:!this.$sidebar.hasClass("display");if(!S){S=D('.menu-toggler[data-target="#'+(this.$sidebar.attr("id")||"")+'"]');if(S.length!=0){S=S[0]}else{S=null}}if(R){this.$sidebar.addClass("display");if(S){D(S).addClass("display")}}else{this.$sidebar.removeClass("display");if(S){D(S).removeClass("display")}}};this.toggleCollapsible=function(S,R){if(this.mobile_style!=4){return}var R=typeof R!=="undefined"?R:!this.$sidebar.hasClass("in");if(R){this.$sidebar.collapse("show")}else{this.$sidebar.removeClass("display");this.$sidebar.collapse("hide")}}}D(document).on(ace.click_event+".ace.menu",".menu-toggler",function(E){var G=D(this);var H=D(G.attr("data-target"));if(H.length==0){return}E.preventDefault();H.ace_sidebar("toggleMobile",this);var I=ace.click_event+".ace.autohide";var F=H.attr("data-auto-hide")==="true";if(G.hasClass("display")){if(F){D(document).on(I,function(J){if(H.get(0)==J.target||D.contains(H.get(0),J.target)){J.stopPropagation();return}H.ace_sidebar("toggleMobile",this,false);D(document).off(I)})}if(H.attr("data-sidebar-scroll")=="true"){H.ace_sidebar_scroll("reset")}}else{if(F){D(document).off(I)}}return false}).on(ace.click_event+".ace.menu",".sidebar-collapse",function(E){var F=D(this).attr("data-target"),G=null;if(F){G=D(F)}if(G==null||G.length==0){G=D(this).closest(".sidebar")}if(G.length==0){return}E.preventDefault();G.ace_sidebar("toggleMenu",this)}).on(ace.click_event+".ace.menu",".sidebar-expand",function(E){var G=D(this).attr("data-target"),H=null;if(G){H=D(G)}if(H==null||H.length==0){H=D(this).closest(".sidebar")}if(H.length==0){return}var F=this;E.preventDefault();H.ace_sidebar("toggleResponsive",this);var I=ace.click_event+".ace.autohide";if(H.attr("data-auto-hide")==="true"){if(H.hasClass(responsive_max_class)){D(document).on(I,function(J){if(H.get(0)==J.target||D.contains(H.get(0),J.target)){J.stopPropagation();return}H.ace_sidebar("toggleResponsive",F);D(document).off(I)})}else{D(document).off(I)}}});D.fn.ace_sidebar=function(E,H,G){var F;var I=this.each(function(){var J=D(this);var L=J.data("ace_sidebar");var K=typeof E==="object"&&E;if(!L){J.data("ace_sidebar",(L=new A(this,K)))}if(typeof E==="string"&&typeof L[E]==="function"){if(H instanceof Array){F=L[E].apply(L,H)}else{if(G!==B){F=L[E](H,G)}else{F=L[E](H)}}}});return(F===B)?I:F};D.fn.ace_sidebar.defaults={"duration":300,"hide_open_subs":true}})(window.jQuery);