jQuery.namespace("cti");cti.agentLogin=function(){var A=cti.Agent.getInstance().getThisDN();var B=cti.Agent.getInstance().getAgentID();var D=cti.Agent.getInstance().getThisQueues();var E={"messageId":100,"thisDN":A,"agentID":B,"thisQueues":D};cti.send(E);var C={"messageId":102,"thisDN":A,"agentID":B,"reasonCode":3};cti.send(C)};cti.agentLogout=function(){var A=cti.Agent.getInstance().getThisDN();var B=cti.Agent.getInstance().getAgentID();var C={"messageId":103,"thisDN":A,"agentID":B};cti.send(C)};cti.agentNotReady=function(A){var B=cti.Agent.getInstance().getThisDN();var C=cti.Agent.getInstance().getAgentID();var D={"messageId":102,"thisDN":B,"agentID":C,"reasonCode":A};cti.send(D)};cti.agentReady=function(){var A=cti.Agent.getInstance().getThisDN();var B=cti.Agent.getInstance().getAgentID();var C={"messageId":101,"thisDN":A,"agentID":B};cti.send(C)};cti.makeCall=function(D,F,A){if(checkPhoneNumber(D)){D=$.trim(D);var B=cti.Agent.getInstance().getThisDN();var C=getTenantIdByThisDN(B);if(C!=null){var E={"messageId":200,"thisDN":B,"otherDN":D,"attachDatas":{"id":F,"type":A,"cti-tenant-id":C}};cti.send(E)}}};cti.answerCall=function(A){checkLineId(A);var B=cti.Agent.getInstance().getThisDN();var C=cti.Line.getInstance().getLineData(A);var D=C.callId;var E={"messageId":201,"thisDN":B,"callID":D};cti.send(E)};cti.holdCall=function(A){checkLineId(A);var B=cti.Agent.getInstance().getThisDN();var C=cti.Line.getInstance().getLineData(A);var D=C.callId;var E={"messageId":204,"thisDN":B,"callID":D};cti.send(E)};cti.retrieveCall=function(A){checkLineId(A);var B=cti.Line.getInstance().getLineData(A);if(B.lineState!="Hold"){showMessage("Line "+(A+1)+" can't be retrieved.");return}var E=cti.Agent.getInstance().getThisDN();var D=B.callId;var C={"messageId":217,"thisDN":E,"callID":D};cti.send(C)};cti.releaseCall=function(A){checkLineId(A);var B=cti.Agent.getInstance().getThisDN();var C=cti.Line.getInstance().getLineData(A);var D=C.callId;var E={"messageId":203,"thisDN":B,"callID":D};cti.send(E)};cti.forceReleaseCall=function(){var A=cti.Line.getInstance().getTalkingLine();checkLineId(A);var B=cti.Agent.getInstance().getThisDN();var C=cti.Line.getInstance().getLineData(A);var D=C.callId;var E=C.callType;var F={"messageId":515,"thisDN":B,"callID":D,"callType":E};cti.handleVoiceEvent(2,$.toJSON(F))};cti.redirectCall=function(A,D){checkLineId(A);if(checkPhoneNumber(D)){D=$.trim(D);var B=cti.Agent.getInstance().getThisDN();var C=cti.Line.getInstance().getLineData(A);var E=C.callId;var F={"messageId":212,"thisDN":B,"callID":E,"otherDN":D};cti.send(F)}};cti.initiateTransfer=function(A,D){checkLineId(A);if(checkPhoneNumber(D)){D=$.trim(D);var B=cti.Agent.getInstance().getThisDN();var C=cti.Line.getInstance().getLineData(A);var E=C.callId;var F={"messageId":221,"thisDN":B,"callID":E,"otherDN":D};cti.send(F)}};cti.completeTransfer=function(){var B="";var A="";var C={"messageId":223,"thisDN":thisDN,"callID":B,"consultCallID":A};cti.send(C)};cti.singleStepTransfer=function(A,D){checkLineId(A);if(checkPhoneNumber(D)){D=$.trim(D);var B=cti.Agent.getInstance().getThisDN();var C=cti.Line.getInstance().getLineData(A);var E=C.callId;var F=C.phoneNumber;var G={"messageId":215,"thisDN":B,"callID":E,"otherDN":D,"phoneNumber":F};cti.send(G)}};cti.initiateConference=function(A,D){checkLineId(A);var B=cti.Agent.getInstance().getThisDN();var C=cti.Line.getInstance().getLineData(A);var E=C.callId;var F={"messageId":220,"thisDN":B,"callID":E,"otherDN":D};cti.send(F)};cti.completeConference=function(){var B="";var A="";var C={"messageId":222,"thisDN":thisDN,"callID":B,"consultCallID":A};cti.send(C)};cti.singleStepConference=function(A,D){checkLineId(A);if(checkPhoneNumber(D)){D=$.trim(D);var B=cti.Agent.getInstance().getThisDN();var C=cti.Line.getInstance().getLineData(A);var E=C.callId;var F={"messageId":214,"thisDN":B,"callID":E,"otherDN":D};cti.send(F)}};cti.transferToIVR=function(B,A,E){checkLineId(B);var C=cti.Agent.getInstance().getThisDN();var D=cti.Line.getInstance().getLineData(B);var F=D.callId;var G={"messageId":224,"thisDN":C,"callID":F,"ivrContext":A,"ivrExtension":E};cti.send(G)};cti.sendDTMF=function(A,E){checkLineId(A);var B=cti.Agent.getInstance().getThisDN();var C=cti.Line.getInstance().getLineData(A);var D=C.callId;var F={"messageId":250,"thisDN":B,"callID":D,"dtmfDigit":E};cti.send(F)};cti.updateUserData=function(C,B,H){checkLineId(C);var E=cti.Agent.getInstance().getThisDN();var F=cti.Line.getInstance().getLineData(C);var G=F.callId;var D="";var A={"messageId":232,"thisDN":E,"callID":G,"userData":D};cti.send(A)};cti.deleteUserData=function(B,A){checkLineId(B);var C=cti.Agent.getInstance().getThisDN();var D=cti.Line.getInstance().getLineData(B);var E=D.callId;var F={"messageId":231,"thisDN":C,"callID":E,"key":A};cti.send(F)};cti.getUserData=function(){};cti.startAgentsMonitoring=function(A){var B=cti.Agent.getInstance().getThisDN();var C={"messageId":266,"thisDN":B,"agentDNS":A};cti.send(C)};cti.stopAgentsMonitoring=function(A){var B=cti.Agent.getInstance().getThisDN();var C={"messageId":267,"thisDN":B,"agentDNS":A};cti.send(C)};cti.monitorCall=function(C,B){var A=cti.Agent.getInstance().getThisDN();var D={"messageId":265,"thisDN":A,"callID":C,"otherDN":B};cti.send(D)};cti.changeParty=function(E,D,F){var A=cti.Line.getInstance().getCurrentLineId();var B=cti.Line.getInstance().getLineData(A);var G=cti.Agent.getInstance().getThisDN();if(B.lineState!=""){showMessage("当前状态不能强拆,请先挂断电话！")}else{var C={"messageId":215,"thisDN":D,"otherDN":G,"callID":E,"phoneNumber":F};cti.send(C)}};cti.releaseAgentCall=function(B,A){var C={"messageId":203,"thisDN":A,"callID":B};cti.send(C)};cti.startDialing=function(B,D,C){var A=cti.Agent.getInstance().getThisDN();var E={"messageId":1001,"thisDN":A,"tenantId":B,"campaignId":D,"dialMode":C};cti.send(E)};cti.stopDialing=function(B,D,C){var A=cti.Agent.getInstance().getThisDN();var E={"messageId":1002,"thisDN":A,"tenantId":B,"campaignId":D,"dialMode":C};cti.send(E)};cti.unloadCampaign=function(B,D,C){var A=cti.Agent.getInstance().getThisDN();var E={"messageId":1003,"thisDN":A,"tenantId":B,"campaignId":D,"dialMode":C};cti.send(E)};cti.updateCampaignRatio=function(C,E,D,A){var B=cti.Agent.getInstance().getThisDN();var F={"messageId":1009,"thisDN":B,"tenantId":C,"campaignId":E,"ratio":D,"autoRatio":A};cti.send(F)};cti.updateCampaignNumber=function(B,D,C){var A=cti.Agent.getInstance().getThisDN();var E={"messageId":1018,"thisDN":A,"tenantId":B,"campaignId":D,"numbers":C};cti.send(E)};cti.customerCampaign=function(B,C,E){var A=cti.Agent.getInstance().getThisDN();var D={"messageId":1006,"thisDN":A,"tenantId":B,"ccId":C,"state":E};cti.send(D)};cti.updateQueue=function(D,C){var A=cti.Agent.getInstance().getThisDN();var B={"messageId":270,"thisDN":A,"queue":D,"method":C};cti.send(B)};cti.getStatisticAgent=function(B,E,C,A,F){var G=cti.Agent.getInstance().getThisDN();var D={"messageId":2000,"thisDN":G,"tenantId":B,"statisticMetric":{"filter":F,"statisticType":E,"timeRange":C,"timeRange2":A},"statisticObject":{}};cti.send(D)};cti.getStatisticForOutbound=function(C,D,F,E,A){var B=cti.Agent.getInstance().getThisDN();var G={"messageId":1011,"referenceID":1000,"statisticMetric":{"filter":E,"statisticType":A,"timeProfile":"year","timeRange":D,"timeRange2":F},"statisticObject":{"objectId":"kpi","statisticObjectType":A,"tenantName":"'"+C+"'","tenantPassword":""},"tenantId":C,"campaignId":0,"thisDN":B};cti.send(G)};cti.getStatisticHistoryDetail=function(B,I,F,H,D,G,A){var E=cti.Agent.getInstance().getThisDN();var C={"messageId":2001,"thisDN":E,"tenantId":B,"statisticMetric":{"filter":D,"statisticType":I,"timeRange":F,"timeRange2":H,"pageSize":G,"currentPage":A},"statisticObject":{}};cti.send(C)};cti.campaignLoadByFileName=function(C,D,E,B,F){var G=cti.Agent.getInstance().getThisDN();var A={"messageId":1012,"thisDN":G,"tenantId":C,"campaignId":D,"repeat":E};cti.send(A)};cti.retrieveCampaign=function(C,D,B,E){var F=cti.Agent.getInstance().getThisDN();var A={"messageId":1013,"thisDN":F,"tenantId":C,"campaignId":D,"retrieveCampaignId":B,"retrieveType":E};cti.send(A)};cti.getCallLoss=function(B,F,H,D,G,A){var E=cti.Agent.getInstance().getThisDN();var C={"messageId":1015,"thisDN":E,"tenantId":B,"filter":D,"startDate":F,"endDate":H,"pageSize":G,"currentPage":A};cti.send(C)};cti.getCallLossDownCSV=function(B,C,A,E){var F=cti.Agent.getInstance().getThisDN();var D={"messageId":1016,"thisDN":F,"tenantId":B,"filter":E,"startDate":C,"endDate":A};cti.send(D)};cti.getCampaginContactDownCSV=function(B,D,C){var A=cti.Agent.getInstance().getThisDN();var E={"messageId":1017,"thisDN":A,"tenantId":B,"campaignId":D,"status":C};cti.send(E)};cti.getRecordList=function(C,G,E,K,H,I,J,D,B,A){var F=cti.Agent.getInstance().getThisDN();var L={"messageId":3001,"thisDN":F,"tenantId":C,"attachDatas":{"resultType":K,"extens":H,"startTime":G,"endTime":E,"dst":I,"minTime":J,"maxTime":D,"page":A,"offSet":B}};cti.send(L)};