/* Select for DataTables 1.1.0
 * 2015 SpryMedia Ltd - datatables.net/license/mit
 */
(function(A){if(typeof define==="function"&&define.amd){define(["jquery","datatables.net"],function(B){return A(B,window,document)})}else{if(typeof exports==="object"){module.exports=function(B,C){if(!B){B=window}if(!C||!C.fn.dataTable){C=require("datatables.net")(B,C).$}return A(C,B,B.document)}}else{A(jQuery,window,document)}}}(function(L,N,E,K){var C=L.fn.dataTable;C.select={};C.select.version="1.1.0";function F(Y,U,X){var W;var V;var R;var S=function(c,b){if(c>b){var Z=b;b=c;c=Z}var a=false;return Y.columns(":visible").indexes().filter(function(d){if(d===c){a=true}if(d===b){a=false;return true}return a})};var T=function(d,c){var b=Y.rows({search:"applied"}).indexes();if(b.indexOf(d)>b.indexOf(c)){var Z=c;c=d;d=Z}var a=false;return b.filter(function(e){if(e===d){a=true}if(e===c){a=false;return true}return a})};if(!Y.cells({selected:true}).any()&&!X){V=S(0,U.column);R=T(0,U.row)}else{V=S(X.column,U.column);R=T(X.row,U.row)}W=Y.cells(R,V).flatten();if(!Y.cells(U,{selected:true}).any()){Y.cells(W).select()}else{Y.cells(W).deselect()}}function O(R){var T=R.settings()[0];var S=T._select.selector;L(R.table().body()).off("mousedown.dtSelect",S).off("mouseup.dtSelect",S).off("click.dtSelect",S);L("body").off("click.dtSelect")}function B(R){var S=L(R.table().body());var U=R.settings()[0];var T=U._select.selector;S.on("mousedown.dtSelect",T,function(V){if(V.shiftKey){S.css("-moz-user-select","none").one("selectstart.dtSelect",T,function(){return false})}}).on("mouseup.dtSelect",T,function(V){S.css("-moz-user-select","")}).on("click.dtSelect",T,function(V){var Y=R.select.items();var W;var Z=R.settings()[0];if(L(V.target).closest("tbody")[0]!=S[0]){return}var X=L(V.target).closest("td, th");var a=R.cell(X).index();if(!R.cell(X).any()){return}if(Y==="row"){W=a.row;G(V,R,Z,"row",W)}else{if(Y==="column"){W=R.cell(X).index().column;G(V,R,Z,"column",W)}else{if(Y==="cell"){W=R.cell(X).index();G(V,R,Z,"cell",W)}}}Z._select_lastCell=a});L("body").on("click.dtSelect",function(V){if(U._select.blurable){if(L(V.target).parents().filter(R.table().container()).length){return}if(L(V.target).parents("div.DTE").length){return}H(U,true)}})}function P(T,R,U,S){if(S&&!T.flatten().length){return}U.unshift(T);L(T.table().node()).triggerHandler(R+".dt",U)}function A(T){var S=T.settings()[0];if(!S._select.info||!S.aanFeatures.i){return}var U=L('<span class="select-info"/>');var R=function(V,W){U.append(L('<span class="select-item"/>').append(T.i18n("select."+V+"s",{_:"%d "+V+"s selected",0:"",1:"1 "+V+" selected"},W)))};R("row",T.rows({selected:true}).flatten().length);R("column",T.columns({selected:true}).flatten().length);R("cell",T.cells({selected:true}).flatten().length);L.each(S.aanFeatures.i,function(W,V){V=L(V);var X=V.children("span.select-info");if(X.length){X.remove()}if(U.text()!==""){V.append(U)}})}function M(R){var S=new C.Api(R);R.aoRowCreatedCallback.push({fn:function(W,Y,X){var U,T;var V=R.aoData[X];if(V._select_selected){L(W).addClass(R._select.className)}for(U=0,T=R.aoColumns.length;U<T;U++){if(R.aoColumns[U]._select_selected||(V._selected_cells&&V._selected_cells[U])){L(V.anCells[U]).addClass(R._select.className)}}},sName:"select-deferRender"});S.on("preXhr.dt.dtSelect",function(){var T=S.rows({selected:true}).ids(true).filter(function(V){return V!==K});var U=S.cells({selected:true}).eq(0).map(function(V){var W=S.row(V.row).id(true);return W?{row:W,column:V.column}:K}).filter(function(V){return V!==K});S.one("draw.dt.dtSelect",function(){S.rows(T).select();if(U.any()){U.each(function(V){S.cells(V.row,V.column).select()})}})});S.on("draw.dtSelect.dt select.dtSelect.dt deselect.dtSelect.dt",function(){A(S)});S.on("destroy.dtSelect",function(){O(S);S.off(".dtSelect")})}function D(Y,X,T,W){var V=Y[X+"s"]({search:"applied"}).indexes();var R=L.inArray(W,V);var S=L.inArray(T,V);if(!Y[X+"s"]({selected:true}).any()&&R===-1){V.splice(L.inArray(T,V)+1,V.length)}else{if(R>S){var U=S;S=R;R=U}V.splice(S+1,V.length);V.splice(0,R)}if(!Y[X](T,{selected:true}).any()){Y[X+"s"](V).select()}else{V.splice(L.inArray(T,V),1);Y[X+"s"](V).deselect()}}function H(S,R){if(R||S._select.style==="single"){var T=new C.Api(S);T.rows({selected:true}).deselect();T.columns({selected:true}).deselect();T.cells({selected:true}).deselect()}}function G(R,Y,T,W,S){var U=Y.select.style();var X=Y[W](S,{selected:true}).any();if(U==="os"){if(R.ctrlKey||R.metaKey){Y[W](S).select(!X)}else{if(R.shiftKey){if(W==="cell"){F(Y,S,T._select_lastCell||null)}else{D(Y,W,S,T._select_lastCell?T._select_lastCell[W]:null)}}else{var V=Y[W+"s"]({selected:true});if(X&&V.flatten().length===1){Y[W](S).deselect()}else{V.deselect();Y[W](S).select()}}}}else{Y[W](S).select(!X)}}L.each([{type:"row",prop:"aoData"},{type:"column",prop:"aoColumns"}],function(R,S){C.ext.selector[S.type].push(function(U,a,X){var Z=a.selected;var W;var V=[];if(Z===K){return X}for(var Y=0,T=X.length;Y<T;Y++){W=U[S.prop][X[Y]];if((Z===true&&W._select_selected===true)||(Z===false&&!W._select_selected)){V.push(X[Y])}}return V})});C.ext.selector.cell.push(function(R,X,Y){var W=X.selected;var T;var S=[];if(W===K){return Y}for(var V=0,U=Y.length;V<U;V++){T=R.aoData[Y[V].row];if((W===true&&T._selected_cells&&T._selected_cells[Y[V].column]===true)||(W===false&&(!T._selected_cells||!T._selected_cells[Y[V].column]))){S.push(Y[V])}}return S});var J=C.Api.register;var I=C.Api.registerPlural;J("select()",function(){});J("select.blurable()",function(R){if(R===K){return this.context[0]._select.blurable}return this.iterator("table",function(S){S._select.blurable=R})});J("select.info()",function(R){if(A===K){return this.context[0]._select.info}return this.iterator("table",function(S){S._select.info=R})});J("select.items()",function(R){if(R===K){return this.context[0]._select.items}return this.iterator("table",function(S){S._select.items=R;P(new C.Api(S),"selectItems",[R])})});J("select.style()",function(R){if(R===K){return this.context[0]._select.style}return this.iterator("table",function(T){T._select.style=R;if(!T._select_init){M(T)}var S=new C.Api(T);O(S);if(R!=="api"){B(S)}P(new C.Api(T),"selectStyle",[R])})});J("select.selector()",function(R){if(R===K){return this.context[0]._select.selector}return this.iterator("table",function(S){O(new C.Api(S));S._select.selector=R;if(S._select.style!=="api"){B(new C.Api(S))}})});I("rows().select()","row().select()",function(R){var S=this;if(R===false){return this.deselect()}this.iterator("row",function(U,T){H(U);U.aoData[T]._select_selected=true;L(U.aoData[T].nTr).addClass(U._select.className)});this.iterator("table",function(U,T){P(S,"select",["row",S[T]],true)});return this});I("columns().select()","column().select()",function(R){var S=this;if(R===false){return this.deselect()}this.iterator("column",function(U,T){H(U);U.aoColumns[T]._select_selected=true;var V=new C.Api(U).column(T);L(V.header()).addClass(U._select.className);L(V.footer()).addClass(U._select.className);V.nodes().to$().addClass(U._select.className)});this.iterator("table",function(U,T){P(S,"select",["column",S[T]],true)});return this});I("cells().select()","cell().select()",function(R){var S=this;if(R===false){return this.deselect()}this.iterator("cell",function(U,V,T){H(U);var W=U.aoData[V];if(W._selected_cells===K){W._selected_cells=[]}W._selected_cells[T]=true;if(W.anCells){L(W.anCells[T]).addClass(U._select.className)}});this.iterator("table",function(U,T){P(S,"select",["cell",S[T]],true)});return this});I("rows().deselect()","row().deselect()",function(){var R=this;this.iterator("row",function(T,S){T.aoData[S]._select_selected=false;L(T.aoData[S].nTr).removeClass(T._select.className)});this.iterator("table",function(T,S){P(R,"deselect",["row",R[S]],true)});return this});I("columns().deselect()","column().deselect()",function(){var R=this;this.iterator("column",function(U,T){U.aoColumns[T]._select_selected=false;var V=new C.Api(U);var S=V.column(T);L(S.header()).removeClass(U._select.className);L(S.footer()).removeClass(U._select.className);V.cells(null,T).indexes().each(function(W){var Y=U.aoData[W.row];var X=Y._selected_cells;if(Y.anCells&&(!X||!X[W.column])){L(Y.anCells[W.column]).removeClass(U._select.className)}})});this.iterator("table",function(T,S){P(R,"deselect",["column",R[S]],true)});return this});I("cells().deselect()","cell().deselect()",function(){var R=this;this.iterator("cell",function(T,U,S){var V=T.aoData[U];V._selected_cells[S]=false;if(V.anCells&&!T.aoColumns[S]._select_selected){L(V.anCells[S]).removeClass(T._select.className)}});this.iterator("table",function(T,S){P(R,"deselect",["cell",R[S]],true)});return this});function Q(R,S){return function(T){return T.i18n("buttons."+R,S)}}L.extend(C.ext.buttons,{selected:{text:Q("selected","Selected"),className:"buttons-selected",init:function(R,U,T){var S=this;R.on("draw.dt.DT select.dt.DT deselect.dt.DT",function(){var V=S.rows({selected:true}).any()||S.columns({selected:true}).any()||S.cells({selected:true}).any();S.enable(V)});this.disable()}},selectedSingle:{text:Q("selectedSingle","Selected single"),className:"buttons-selected-single",init:function(R,U,T){var S=this;R.on("draw.dt.DT select.dt.DT deselect.dt.DT",function(){var V=R.rows({selected:true}).flatten().length+R.columns({selected:true}).flatten().length+R.cells({selected:true}).flatten().length;S.enable(V===1)});this.disable()}},selectAll:{text:Q("selectAll","Select all"),className:"buttons-select-all",action:function(){var R=this.select.items();this[R+"s"]().select()}},selectNone:{text:Q("selectNone","Deselect all"),className:"buttons-select-none",action:function(){H(this.settings()[0],true)}}});L.each(["Row","Column","Cell"],function(R,S){var T=S.toLowerCase();C.ext.buttons["select"+S+"s"]={text:Q("select"+S+"s","Select "+T+"s"),className:"buttons-select-"+T+"s",action:function(){this.select.items(T)},init:function(U,X,W){var V=this;U.on("selectItems.dt.DT",function(Y,a,Z){V.active(Z===T)})}}});L(E).on("preInit.dt.dtSelect",function(R,T,S){if(R.namespace!=="dt"){return}var V=T.oInit.select||C.defaults.select;var b=new C.Api(T);var Z="row";var U="api";var a=false;var W=true;var X="td, th";var Y="selected";T._select={};if(V===true){U="os"}else{if(typeof V==="string"){U=V}else{if(L.isPlainObject(V)){if(V.blurable!==K){a=V.blurable}if(V.info!==K){W=V.info}if(V.items!==K){Z=V.items}if(V.style!==K){U=V.style}if(V.selector!==K){X=V.selector}if(V.className!==K){Y=V.className}}}}b.select.selector(X);b.select.items(Z);b.select.style(U);b.select.blurable(a);b.select.info(W);T._select.className=Y;if(L(b.table().node()).hasClass("selectable")){b.select.style("os")}});return C.select}));