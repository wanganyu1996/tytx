
<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title>租户管理</title>
		<meta name="description" content="overview &amp; stats" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />

		<!-- bootstrap & fontawesome -->
		<link rel="stylesheet" href="__PUBLIC__/assets/css/chosen.css"/>
		<link rel="stylesheet" href="__PUBLIC__/assets/css/bootstrap.css" />
		<link rel="stylesheet" href="__PUBLIC__/assets/css/font-awesome.css" />

		<!-- page specific plugin styles -->
		<link rel="stylesheet" href="__PUBLIC__/assets/css/jquery-ui.css" />
		<!-- text fonts -->
		<link rel="stylesheet" href="__PUBLIC__/assets/css/ace-fonts.css" />
		<!-- ace styles -->
		<link rel="stylesheet" href="__PUBLIC__/assets/css/ace.css" class="ace-main-stylesheet" id="main-ace-style" />

		<!--[if lte IE 9]>
			<link rel="stylesheet" href="/assets/css/ace-part2.css" class="ace-main-stylesheet" />
		<![endif]-->

		<!--[if lte IE 9]>
		  <link rel="stylesheet" href="/assets/css/ace-ie.css" />
		<![endif]-->
			<link rel="stylesheet" href="__PUBLIC__/assets/css/datepicker.css" />
	<link rel="stylesheet" href="__PUBLIC__/assets/css/chosen.css" />
	<link rel="stylesheet" href="__PUBLIC__/assets/css/aero.css" />
	<link rel="stylesheet" href="__PUBLIC__/assets/css/zTree/zTreeStyle.css" />
	<!--列表页面使用 -->
	<link rel="stylesheet" href="__PUBLIC__/assets/css/define.css" type="text/css" />
	<link rel="stylesheet" href="__PUBLIC__/assets/css/popup.css" type="text/css" />
	<style>
		#formModal .form-group{margin-bottom:10px;overflow:hidden;}
		#formModal .form-group .control-label{margin-top:5px;}
		#formModal .form-group .radio{margin:4px 14px 0 0;}
	</style>
	<!--[if !IE]> -->
	<script src="__PUBLIC__/assets/js/jquery.js"></script>

	<!-- <![endif]-->

	<!--[if IE]>
<script src="/assets/js/jquery1x.js"></script>

		<!-- HTML5shiv and Respond.js for IE8 to support HTML5 elements and media queries -->

		<!--[if lte IE 8]>
		<script src="/assets/js/html5shiv.js"></script>
		<script src="/assets/js/respond.js"></script>
		<![endif]-->
	</head>
	<body>
	<div class="page-content">
			<h3 class="header smaller lighter blue overflow">坐席统计</h3>

			<div>
				<div id="dynamic-table_wrapper" class="dataTables_wrapper form-inline no-footer">
					<div class="row pdb-10">
						
							<div class="col-xs-12">
								<div id="table_filter">
									<select id="reportType" class="form-control chzn-done pull-left" name="reportType" style="width: 124px;">
										<option value="1">工作业绩统计</option>
										<option value="2">工作效率统计</option>
									</select>
									<select id="time_type" class="form-control chzn-done pull-left" name="time_type" style="width: 94px;">
										<option value="1">日报</option>
										<option value="2">月报</option>
										<option value="3">自定义</option>
									</select>
									<div class="dateDiv pull-left" style="width:170px;" id="one_day_span">
										<label class="control-label pull-left  no-padding-right mt-6">日期：</label>
										<div class="input-group pull-left" style="width:126px;">
											<input type="text" data-date-format="yyyy-mm-dd" data_type="date_search" class="form-control date-picker" id="one_day" name="one_day">
											<span class="input-group-addon">
																		<i class="fa fa-calendar bigger-110"></i>
																	</span>
										</div>
									</div>
									<div class="dateMonthDiv pull-left" style="width:170px;display:none;" id="one_month_span">
										<label class="control-label pull-left  no-padding-right mt-6">月份：</label>
										<div class="input-group" style="width:126px;">
											<input type="text" data-date-format="yyyy-mm" data_type="date_search" class="form-control date-picker" id="one_month" name="one_month">
											<span class="input-group-addon">
																		<i class="fa fa-calendar bigger-110"></i>
																	</span>
										</div>
									</div>
									<div class="rangeDateDiv pull-left" id="some_day_span" style="width:334px;display:none;">
										<div>
											<label class="control-label pull-left  no-padding-right mt-6">开始：</label>
											<div class="input-group pull-left" style="width:126px;">
												<input type="text" data-date-format="yyyy-mm-dd" id="startDate" data_type="date_search" name="startDate" class="form-control date-picker">
												<span class="input-group-addon">
																		<i class="fa fa-calendar bigger-110"></i>
																	</span>
											</div>
											<label class="control-label no-padding-right pull-left mt-6">结束：</label>
											<div class="input-group pull-left" style="width:126px;">
												<input type="text" data-date-format="yyyy-mm-dd" id="endDate" name="endDate" data_type="date_search" class="form-control date-picker">
												<span class="input-group-addon">
																		<i class="fa fa-calendar bigger-110"></i>
																	</span>
											</div>
										</div>

									</div>
									<input type="search" class="form-control pull-left" id="condition" placeholder="联系号码" style="width:100px;">
									<div class="btn-group">
										<button class="btn btn-info btn-sm btn-s less_btn" type="button">查询</button>

										<a class="btn btn-sm btn-s btn-info dropdown-toggle" href="#formModal" data-toggle="modal" aria-expanded="false">
											<span class="ace-icon fa fa-caret-down icon-only"></span>
										</a>
										<input type="hidden" id="tenantId" value="25362"/>
										<input type="hidden" id="users" value="{'emp1009':'兼职1009', 'emp1019':'兼职1019', 'emp1008':'葛云', 'emp1016':'兼职1016', 'emp1005':'柳明亮', 'emp1015':'兼职1015', 'emp1004':'兼职1004', 'emp1018':'兼职1018', 'emp1007':'卢莹', 'emp1017':'兼职1017', 'emp1006':'王春梅', 'emp1023':'行政招聘', 'emp1012':'emp1012', 'emp1001':'王明飞', 'emp1022':'emp1022', 'emp1011':'兼职1011', 'emp1014':'兼职1014', 'emp1003':'兼职1003', 'emp1013':'兼职1013', 'emp1002':'赵安琪', 'emp1021':'emp1021', 'emp1010':'emp1010', 'emp1020':'兼职1020'}"/>
										<input type="hidden" id="userEmps" value="emp1023,emp1022,emp1021,emp1020,emp1019,emp1018,emp1017,emp1016,emp1015,emp1014,emp1013,emp1012,emp1011,emp1010,emp1009,emp1008,emp1007,emp1006,emp1005,emp1004,emp1003,emp1002,emp1001"/>
										<input type="hidden" id="agentNames" />
										<a class="btn btn-info btn-sm btn-s export" href="javascritp:;">XLS导出</a>
									</div>
									<!-- condition modal -->
									<div class="modal fade bs-example-modal-sm" id="formModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
										<div class="modal-header">
											<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
											<h4 class="modal-title" id="myModalLabel">多条件查询</h4>
										</div>
										<div class="modal-body">
											<div class="form-group">
												<label class="col-sm-3 control-label no-padding-right" for="form-field-1">
													<label class="middle">坐席</label>
												</label>
												<div class="col-sm-9">
													<div id="treeDemo" class="ztree" style="width:100%;">
														<script type="text/javascript">															
															var setting = {
																check: {
																	enable: true,
																	hkboxType: {
																		"Y": "ps",
																		"N": "ps"
																	}
																},
																data: {
																	simpleData: {
																		enable: true,
																		pIdKey: "parentId"
																	},
																	key: {
																		name: "name"
																	}
																},
																callback: {
																	onCheck: onCheck
																}
															};
				
															function onCheck(e, treeId, treeNode) {
																var treeObj = $.fn.zTree.getZTreeObj("treeDemo");
																nodes = treeObj.getCheckedNodes(true);
																check_ids = '';
																check_names='';
																for (var i = 0; i < nodes.length; i++) {
																	if(!nodes[i].isParent && !nodes[i].halfCheck){
																		if (check_ids != "") {
																			check_ids = check_ids + ',' + nodes[i].id;
																			check_names = check_names+','+nodes[i].agentName;
																		} else {
																			check_ids += nodes[i].id;
																			check_names += nodes[i].agentName;
																		}
																	}
																}
																//$("#agentNames").val(check_ids);
																$("#agentNames").val(check_names);
																console.log(check_ids);
																console.log(check_names);
															}
															check_ids = '';
															var treeObj ;
															var url = "/reporting/agentDailyStatistics/ztree";
															$(document).ready(function() {
																$.post(url,function(zNodes){
																	treeObj = $.fn.zTree.init($("#treeDemo"), setting, zNodes);
																	//treeObj.expandAll(true);//展开所有节点
																},'json');
																
																//设置默认选中
																//var node = treeObj.getNodeByParam("id", 1);
																//treeObj.checkNode(node, true, true);
															});
															function doClear(){
																var nodes = treeObj.getCheckedNodes(true);
																for (var i=0, l=nodes.length; i < l; i++) {
																	treeObj.checkNode(nodes[i], false, false);
																}
																$("#agentNames").val("");
															}
														</script>
													</div>
												</div>
											</div>

										</div>
										<div class="modal-footer">
											<button class="btn btn-sm" data-dismiss="modal" aria-hidden="true" id="close2">取消</button>
											<button class="btn btn-sm" type="button" onClick="doClear()">重置</button>
											<button class="btn btn-sm btn-info" id="more">确定</button>
										</div>
									</div>
								</div>
						
						</div>
					</div>
					<div class="table1">
						<div>
							<table id="reportContent" class="table dataTable table-striped table-bordered table-hover">
								<thead>
									<tr role="row">
										<th class="" tabindex="0" aria-controls="dynamic-table" rowspan="1" colspan="1">坐席</th>
										<th class="yeji" tabindex="0" aria-controls="dynamic-table" rowspan="1" colspan="1">呼入应答数量</th>
										<th class="yeji" tabindex="0" aria-controls="dynamic-table" rowspan="1" colspan="1">呼入电话总数量</th>
										<th class="yeji" tabindex="0" aria-controls="dynamic-table" rowspan="1" colspan="1">接通率（%）</th>
										<th class="yeji" tabindex="0" aria-controls="dynamic-table" rowspan="1" colspan="1">呼出电话数量</th>
										<th class="yeji" tabindex="0" aria-controls="dynamic-table" rowspan="1" colspan="1">呼出电话总数量</th>
										<th class="yeji" tabindex="0" aria-controls="dynamic-table" rowspan="1" colspan="1">拨通率（%）</th>
										<th class="yeji" tabindex="0" aria-controls="dynamic-table" rowspan="1" colspan="1">呼入呼出总量</th>
										<th class="yeji" tabindex="0" aria-controls="dynamic-table" rowspan="1" colspan="1">总通话时长</th>
										<th class="yeji" tabindex="0" aria-controls="dynamic-table" rowspan="1" colspan="1">平均通话时长</th>
										<th class="xiaolv" tabindex="0" aria-controls="dynamic-table" rowspan="1" colspan="1">登录时长</th>
										<th class="xiaolv" tabindex="0" aria-controls="dynamic-table" rowspan="1" colspan="1">通话时长</th>
										<th class="xiaolv" tabindex="0" aria-controls="dynamic-table" rowspan="1" colspan="1">就绪时长</th>
										<th class="xiaolv" aria-controls="dynamic-table" rowspan="1" colspan="1">整理时长</th>
										<th class="xiaolv" tabindex="0" aria-controls="dynamic-table" rowspan="1" colspan="1">示忙时长</th>
										<th class="xiaolv" tabindex="0" aria-controls="dynamic-table" rowspan="1" colspan="1">休息</th>
									</tr>
								</thead>

								<tbody id="agent_daily_statistics">
									
								</tbody>
							</table>
							<div id="dr-pagination" class="flickr_pagination no_pagination"><div class="pagination"><span style="padding-left:8px;color:#a9a9a9;"></span></div></div>
						</div>
						
					</div>

				</div>
			</div>
		</div>


  
	</body>
	<!-- basic scripts -->

	<!--[if !IE]> -->
	<script src="__PUBLIC__/assets/js/jquery.js"></script>

	<!-- <![endif]-->

	<!--[if IE]>
<script src="/assets/js/jquery1x.js"></script>
<![endif]-->
	<script src="__PUBLIC__/assets/js/bootstrap.js"></script>
	<script src="__PUBLIC__/assets/js/jquery-ui.js"></script>
	<!-- page specific plugin scripts -->
	<script src="__PUBLIC__/assets/js/jquery-ui.custom.js"></script>
	<script src="__PUBLIC__/assets/js/jquery.ui.touch-punch.js"></script>
	<!--<script src="/assets/assets/js/ace/elements.aside.js"></script>-->
	
	<script src="__PUBLIC__/assets/js/ace/ace.js"></script>
	<script src="__PUBLIC__/assets/js/jquery-ui.js"></script>
	<script src="__PUBLIC__/assets/js/dataTables/jquery.dataTables.js"></script>
	<script src="__PUBLIC__/assets/js/dataTables/jquery.dataTables.bootstrap.js"></script>
	<script src="__PUBLIC__/assets/js/chosen.jquery.js"></script>
	<script src="__PUBLIC__/assets/js/date-time/bootstrap-datepicker.js"></script>
	<script src="__PUBLIC__/assets/js/date-time/daterangepicker.js"></script>
	<script src="__PUBLIC__/assets/js/zTree/jquery.ztree.all.min.js"></script>
	<script src="__PUBLIC__/assets/js/export2excel/Base64.js"></script>
	<script src="__PUBLIC__/assets/js/export2excel/e2e-0.8.js"></script>
	<script src="__PUBLIC__/assets/ty_js/agentstatistics/public.js"></script>
	<script src="__PUBLIC__/assets/ty_js/agentstatistics/report.js"></script>
	<script src="__PUBLIC__/assets/ty_js/agentstatistics/amcharts.js"></script>
	<script src="__PUBLIC__/assets/ty_js/agentstatistics/rails.validations.js"></script>
    <script src="__PUBLIC__/assets/ty_js/agentstatistics/rails.validations.simple_form.js"></script>
    <script src="__PUBLIC__/assets/ty_js/agentstatistics/rails.validations.custom.js"></script>
    <script src="__PUBLIC__/assets/ty_js/agentstatistics/artDialog.min.js"></script>
    <script src="__PUBLIC__/assets/ty_js/agentstatistics/artDialog.plugins.min.js"></script>
    <script src="__PUBLIC__/assets/ty_js/agentstatistics/agentstatistics.js"></script>
</html>